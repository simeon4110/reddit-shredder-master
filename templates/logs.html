{% extends "layout_profile.html" %}

{% block content %}
    <div class="container-fluid">
        <div class="row mt-3">
            <div class="col table-responsive">
                <table id="logs" class="table-hover order-column" cellspacing="0" width="100%">
                    <thead class="mt-3">
                    <tr>
                        <th width="150px">Time</th>
                        <th>Comment Body / Submission Title</th>
                        <th>Status</th>
                    </tr>
                    </thead>
                    {% if not output %}
                        </table>
                        <p class="lead mt-5" style="color: red; text-align: center;">
                            Either logging is turned off, or the auto shredder hasn't run yet. To enable logging, go
                            back to
                            your profile, and set "Record Keeping" to "Yes."
                        </p>
                    {% else %}
                        <tbody>
                        {% for item in output %}
                            <tr>
                                <td>{{ item.op_run_time }}</td>
                                <td>{{ item.sub_comment_body }}</td>
                                <td>{{ item.sub_comment_status }}</td>
                            </tr>
                        {% endfor %}
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    {% load staticfiles %}
    <script type="text/javascript"
            src="https://cdn.datatables.net/v/bs4/dt-1.10.16/b-1.5.1/b-colvis-1.5.1/fh-3.1.3/r-2.2.1/datatables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#logs').DataTable({
                responsive: true
            });
        });
    </script>
{% endblock %}
